(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,n){e.exports=n(81)},47:function(e,t,n){},49:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(12),o=n.n(l),c=(n(47),n(29)),s=n(30),i=n(40),d=n(31),u=n(39),m=n(11),h=n.n(m),p=n(16),f=(n(49),n(32)),b=n.n(f),g=n(34),w=n.n(g),v=n(84),E=n(86),y=n(85),I={width:"100%"},S=function(){var e=Object(p.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("https://ecofreshwebapi.azurewebsites.net/consumer/item/".concat(t));case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",{itemType:String(n.data.itemType),datePlanted:new Date(n.data.datePlanted),dateHarvested:new Date(n.data.dateHarvested)});case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),k=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleError=function(e){console.log(e)},n.handleLoaded=function(e){n.setState({state:"displaying",loadedItem:e})},n.handleScan=function(){var e=Object(p.a)(h.a.mark(function e(t){var a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return t.includes("?")&&(t=t.split("?")[1]),n.setState({state:"loading",selectedId:t,loadedItem:null}),e.next=6,S(t);case 6:a=e.sent,n.handleLoaded(a);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.startScanning=function(){n.setState({state:"scanning",selectedId:null,loadedItem:null})};var a=window.location.search;return console.log(a),a?(n.state={state:"loading",selectedId:a.substr(1),loadedItem:null},S(a.substr(1)).then(n.handleLoaded)):n.state={state:"scanning",selectedId:null,loadedItem:null},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t={scanning:function(){return r.a.createElement(b.a,{delay:300,onScan:e.handleScan,onError:e.handleError,style:I})},loading:function(){return r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(v.a,{animation:"border"}))},displaying:function(){return r.a.createElement("div",null,"item ",e.state.selectedId,r.a.createElement("br",null),"type: ",e.state.loadedItem.itemType,r.a.createElement("br",null),"harvested on ",e.state.loadedItem.dateHarvested.toDateString(),r.a.createElement("br",null),"planted ",e.state.loadedItem.datePlanted.toLocaleDateString(),r.a.createElement("br",null),r.a.createElement(E.a,{onClick:e.startScanning},"Scan Again"))}}[this.state.state];return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{bg:"dark"},r.a.createElement("h1",{className:"text-light"},"Ecofresh")),r.a.createElement(t,null))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[41,1,2]]]);
//# sourceMappingURL=main.7d4e3a39.chunk.js.map